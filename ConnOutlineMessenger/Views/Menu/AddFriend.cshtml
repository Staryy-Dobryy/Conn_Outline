@model ConnOutlineMessenger.DTO.AddFriendViewModel

@{
    Layout = null;
    ViewData["Title"] = "Conn Outline Messenger";
}
<link rel="stylesheet" href="~/css/modal/addFriendModal.css" asp-append-version="true" />
<div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <h2>Добавить друга</h2>
            <span class="close">&times;</span>
        </div>
        <form asp-controller="Menu" asp-action="AddFriend" id="add-friend" class="modal-body">
            <input asp-for="userId" type="Text" placeholder="Enter friend ID" class="form-input">
            <input type="submit" class="conn-btn conn-bg-red" value="Add friend">
        </form>
    </div>
</div>
<script>
    // modal
    var modal = document.getElementById("myModal");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    $(function () {
        $("#add-friend").submit(function (event) {
            event.preventDefault();
            $.ajax({
                url: $("#add-friend").attr('action'),
                data: $("#add-friend").serialize(),
                type: 'POST',
                success: function (data) {
                    $('body').html(data);
                }
            });
        });
    });
</script>